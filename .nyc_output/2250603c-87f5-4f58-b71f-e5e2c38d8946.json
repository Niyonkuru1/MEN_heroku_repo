{"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\authModel.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\authModel.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":80}},"2":{"start":{"line":7,"column":25},"end":{"line":7,"column":99}},"3":{"start":{"line":9,"column":16},"end":{"line":9,"column":59}},"4":{"start":{"line":11,"column":17},"end":{"line":11,"column":37}},"5":{"start":{"line":13,"column":14},"end":{"line":13,"column":55}},"6":{"start":{"line":15,"column":17},"end":{"line":28,"column":2}},"7":{"start":{"line":35,"column":0},"end":{"line":65,"column":5}},"8":{"start":{"line":36,"column":13},"end":{"line":60,"column":5}},"9":{"start":{"line":38,"column":4},"end":{"line":59,"column":22}},"10":{"start":{"line":39,"column":6},"end":{"line":58,"column":7}},"11":{"start":{"line":40,"column":8},"end":{"line":57,"column":9}},"12":{"start":{"line":42,"column":12},"end":{"line":42,"column":30}},"13":{"start":{"line":43,"column":12},"end":{"line":43,"column":48}},"14":{"start":{"line":46,"column":12},"end":{"line":46,"column":33}},"15":{"start":{"line":47,"column":12},"end":{"line":47,"column":30}},"16":{"start":{"line":48,"column":12},"end":{"line":48,"column":64}},"17":{"start":{"line":51,"column":12},"end":{"line":51,"column":42}},"18":{"start":{"line":52,"column":12},"end":{"line":52,"column":19}},"19":{"start":{"line":56,"column":12},"end":{"line":56,"column":35}},"20":{"start":{"line":62,"column":2},"end":{"line":64,"column":4}},"21":{"start":{"line":63,"column":4},"end":{"line":63,"column":39}},"22":{"start":{"line":67,"column":0},"end":{"line":117,"column":4}},"23":{"start":{"line":68,"column":14},"end":{"line":112,"column":5}},"24":{"start":{"line":70,"column":4},"end":{"line":111,"column":23}},"25":{"start":{"line":71,"column":6},"end":{"line":110,"column":7}},"26":{"start":{"line":72,"column":8},"end":{"line":109,"column":9}},"27":{"start":{"line":74,"column":12},"end":{"line":74,"column":31}},"28":{"start":{"line":75,"column":12},"end":{"line":77,"column":15}},"29":{"start":{"line":80,"column":12},"end":{"line":80,"column":34}},"30":{"start":{"line":82,"column":12},"end":{"line":85,"column":13}},"31":{"start":{"line":83,"column":14},"end":{"line":83,"column":34}},"32":{"start":{"line":84,"column":14},"end":{"line":84,"column":20}},"33":{"start":{"line":87,"column":12},"end":{"line":87,"column":31}},"34":{"start":{"line":88,"column":12},"end":{"line":88,"column":71}},"35":{"start":{"line":91,"column":12},"end":{"line":91,"column":34}},"36":{"start":{"line":93,"column":12},"end":{"line":96,"column":13}},"37":{"start":{"line":94,"column":14},"end":{"line":94,"column":33}},"38":{"start":{"line":95,"column":14},"end":{"line":95,"column":20}},"39":{"start":{"line":98,"column":12},"end":{"line":98,"column":52}},"40":{"start":{"line":101,"column":12},"end":{"line":101,"column":46}},"41":{"start":{"line":104,"column":12},"end":{"line":104,"column":43}},"42":{"start":{"line":108,"column":12},"end":{"line":108,"column":36}},"43":{"start":{"line":114,"column":2},"end":{"line":116,"column":4}},"44":{"start":{"line":115,"column":4},"end":{"line":115,"column":40}},"45":{"start":{"line":119,"column":13},"end":{"line":119,"column":59}},"46":{"start":{"line":121,"column":0},"end":{"line":121,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":35,"column":36},"end":{"line":35,"column":37}},"loc":{"start":{"line":35,"column":48},"end":{"line":65,"column":1}},"line":35},"1":{"name":"_callee","decl":{"start":{"line":36,"column":100},"end":{"line":36,"column":107}},"loc":{"start":{"line":36,"column":114},"end":{"line":60,"column":3}},"line":36},"2":{"name":"_callee$","decl":{"start":{"line":38,"column":49},"end":{"line":38,"column":57}},"loc":{"start":{"line":38,"column":68},"end":{"line":59,"column":5}},"line":38},"3":{"name":"(anonymous_3)","decl":{"start":{"line":62,"column":9},"end":{"line":62,"column":10}},"loc":{"start":{"line":62,"column":23},"end":{"line":64,"column":3}},"line":62},"4":{"name":"(anonymous_4)","decl":{"start":{"line":67,"column":40},"end":{"line":67,"column":41}},"loc":{"start":{"line":67,"column":52},"end":{"line":117,"column":1}},"line":67},"5":{"name":"_callee2","decl":{"start":{"line":68,"column":101},"end":{"line":68,"column":109}},"loc":{"start":{"line":68,"column":127},"end":{"line":112,"column":3}},"line":68},"6":{"name":"_callee2$","decl":{"start":{"line":70,"column":49},"end":{"line":70,"column":58}},"loc":{"start":{"line":70,"column":70},"end":{"line":111,"column":5}},"line":70},"7":{"name":"(anonymous_7)","decl":{"start":{"line":114,"column":9},"end":{"line":114,"column":10}},"loc":{"start":{"line":114,"column":29},"end":{"line":116,"column":3}},"line":114}},"branchMap":{"0":{"loc":{"start":{"line":40,"column":8},"end":{"line":57,"column":9}},"type":"switch","locations":[{"start":{"line":41,"column":10},"end":{"line":43,"column":48}},{"start":{"line":45,"column":10},"end":{"line":48,"column":64}},{"start":{"line":50,"column":10},"end":{"line":52,"column":19}},{"start":{"line":54,"column":10},"end":{"line":54,"column":17}},{"start":{"line":55,"column":10},"end":{"line":56,"column":35}}],"line":40},"1":{"loc":{"start":{"line":72,"column":8},"end":{"line":109,"column":9}},"type":"switch","locations":[{"start":{"line":73,"column":10},"end":{"line":77,"column":15}},{"start":{"line":79,"column":10},"end":{"line":88,"column":71}},{"start":{"line":90,"column":10},"end":{"line":98,"column":52}},{"start":{"line":100,"column":10},"end":{"line":101,"column":46}},{"start":{"line":103,"column":10},"end":{"line":104,"column":43}},{"start":{"line":106,"column":10},"end":{"line":106,"column":18}},{"start":{"line":107,"column":10},"end":{"line":108,"column":36}}],"line":72},"2":{"loc":{"start":{"line":82,"column":12},"end":{"line":85,"column":13}},"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":85,"column":13}},{"start":{"line":82,"column":12},"end":{"line":85,"column":13}}],"line":82},"3":{"loc":{"start":{"line":93,"column":12},"end":{"line":96,"column":13}},"type":"if","locations":[{"start":{"line":93,"column":12},"end":{"line":96,"column":13}},{"start":{"line":93,"column":12},"end":{"line":96,"column":13}}],"line":93}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":3,"11":3,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":4,"26":4,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":1,"34":1,"35":1,"36":1,"37":0,"38":0,"39":1,"40":0,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1},"f":{"0":1,"1":1,"2":3,"3":1,"4":1,"5":1,"6":4,"7":1},"b":{"0":[1,1,1,1,1],"1":[1,1,1,0,0,0,1],"2":[0,1],"3":[0,1]},"inputSourceMap":{"version":3,"sources":["authModel.js"],"names":["userSchema","mongoose","Schema","email","type","String","required","unique","lowercase","validate","isEmail","password","minlength","pre","next","bcrypt","genSalt","salt","hash","statics","login","findOne","user","compare","auth","Error","Userdb","model","module","exports"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AAGA,IAAIA,UAAU,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AACjCC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAC,CAAC,IAAD,EAAM,uBAAN,CAFN;AAGHC,IAAAA,MAAM,EAAC,IAHJ;AAIHC,IAAAA,SAAS,EAAC,IAJP;AAKHC,IAAAA,QAAQ,EAAE,CAACC,kBAAD,EAAU,8BAAV;AALP,GAD0B;AAQjCC,EAAAA,QAAQ,EAAE;AACNP,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAC,CAAC,IAAD,EAAM,yBAAN,CAFH;AAGNM,IAAAA,SAAS,EAAC,CAAC,CAAD,EAAG,uCAAH;AAHJ;AARuB,CAApB,CAAjB,C,CAeA;AACA;AACA;AACA;AACA;AAEA;;AACAZ,UAAU,CAACa,GAAX,CAAe,MAAf;AAAA,2FAAuB,iBAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEAC,mBAAOC,OAAP,EAFA;;AAAA;AAEbC,YAAAA,IAFa;AAAA;AAAA,mBAGGF,mBAAOG,IAAP,CAAY,KAAKP,QAAjB,EAA2BM,IAA3B,CAHH;;AAAA;AAGnB,iBAAKN,QAHc;AAInBG,YAAAA,IAAI;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA,K,CAQA;;AACAd,UAAU,CAACmB,OAAX,CAAmBC,KAAnB;AAAA,4FAA2B,kBAAgBjB,KAAhB,EAAuBQ,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACJ,KAAKU,OAAL,CAAa;AAAClB,cAAAA,KAAK,EAACA;AAAP,aAAb,CADI;;AAAA;AACjBmB,YAAAA,IADiB;;AAAA,iBAEnBA,IAFmB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIAP,mBAAOQ,OAAP,CAAeZ,QAAf,EAAyBW,IAAI,CAACX,QAA9B,CAJA;;AAAA;AAIba,YAAAA,IAJa;;AAAA,iBAKfA,IALe;AAAA;AAAA;AAAA;;AAAA,8CAMRF,IANQ;;AAAA;AAAA,kBAOXG,KAAK,CAAC,oBAAD,CAPM;;AAAA;AAAA,kBASjBA,KAAK,CAAE,iBAAF,CATY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA;;AAWA,IAAMC,MAAM,GAAGzB,qBAAS0B,KAAT,CAAe,MAAf,EAAuB3B,UAAvB,CAAf;;AAEA4B,MAAM,CAACC,OAAP,GAAiBH,MAAjB","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\","sourcesContent":["import mongoose from 'mongoose';\r\nimport  {isEmail} from 'validator';\r\nimport bcrypt from \"bcrypt\";\r\n\r\n\r\nvar userSchema = new mongoose.Schema({\r\n    email: {\r\n        type: String,\r\n        required:[true,'Please enter an email'],\r\n        unique:true,\r\n        lowercase:true,\r\n        validate: [isEmail, 'Please enter the valid email']\r\n    },\r\n    password: {\r\n        type: String,\r\n        required:[true,'Please enter a password'],\r\n        minlength:[6,'Minimum length should be 6 characters']\r\n    },\r\n});\r\n\r\n//fire a function after adoc has been saved to the database\r\n// userSchema.post('save', function (doc, next){\r\n//     console.log(`new user was created & saved ${doc}`);\r\n//     next();\r\n// })\r\n\r\n// fire a function before saving the doc to the db\r\nuserSchema.pre('save', async function ( next){\r\n    // console.log(`new useer about to be created and saved ${this}`); \r\n    const salt = await bcrypt.genSalt();\r\n    this.password = await bcrypt.hash(this.password, salt);\r\n    next();\r\n})\r\n\r\n\r\n// adding static method to the user \r\nuserSchema.statics.login = async function (email, password){\r\n    const user = await this.findOne({email:email});\r\n    if (user){\r\n        // auth will hold truthy or falsy\r\n        const auth = await bcrypt.compare(password, user.password);\r\n        if (auth) {\r\n            return user\r\n        } throw Error(\"Incorrect password\");\r\n    }\r\n    throw Error (\"Incorrect Email\");\r\n}\r\nconst Userdb = mongoose.model(\"user\", userSchema);\r\n\r\nmodule.exports = Userdb;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f6d19bb2f9d495272f5af4ccbfe7c78749d0a514","contentHash":"fc96321dca5917b7559c84b6a70c22f296be40e33a2e5d3a3bd286394b7b4669"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":57}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":55}},"3":{"start":{"line":9,"column":14},"end":{"line":9,"column":55}},"4":{"start":{"line":11,"column":18},"end":{"line":11,"column":64}},"5":{"start":{"line":13,"column":12},"end":{"line":13,"column":51}},"6":{"start":{"line":15,"column":20},"end":{"line":15,"column":68}},"7":{"start":{"line":17,"column":24},"end":{"line":17,"column":77}},"8":{"start":{"line":19,"column":14},"end":{"line":19,"column":55}},"9":{"start":{"line":21,"column":18},"end":{"line":21,"column":84}},"10":{"start":{"line":23,"column":18},"end":{"line":23,"column":82}},"11":{"start":{"line":25,"column":18},"end":{"line":25,"column":82}},"12":{"start":{"line":29,"column":10},"end":{"line":29,"column":36}},"13":{"start":{"line":31,"column":0},"end":{"line":33,"column":3}},"14":{"start":{"line":35,"column":0},"end":{"line":35,"column":35}},"15":{"start":{"line":38,"column":11},"end":{"line":38,"column":35}},"16":{"start":{"line":41,"column":0},"end":{"line":41,"column":41}},"17":{"start":{"line":42,"column":0},"end":{"line":42,"column":49}},"18":{"start":{"line":46,"column":0},"end":{"line":48,"column":4}},"19":{"start":{"line":51,"column":0},"end":{"line":51,"column":36}},"20":{"start":{"line":52,"column":0},"end":{"line":52,"column":41}},"21":{"start":{"line":54,"column":24},"end":{"line":54,"column":65}},"22":{"start":{"line":56,"column":0},"end":{"line":56,"column":108}},"23":{"start":{"line":59,"column":0},"end":{"line":59,"column":30}},"24":{"start":{"line":62,"column":0},"end":{"line":62,"column":30}},"25":{"start":{"line":71,"column":0},"end":{"line":75,"column":3}},"26":{"start":{"line":72,"column":2},"end":{"line":74,"column":5}},"27":{"start":{"line":77,"column":0},"end":{"line":77,"column":37}},"28":{"start":{"line":78,"column":0},"end":{"line":78,"column":37}},"29":{"start":{"line":79,"column":0},"end":{"line":79,"column":21}},"30":{"start":{"line":80,"column":0},"end":{"line":82,"column":3}},"31":{"start":{"line":81,"column":2},"end":{"line":81,"column":69}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":71,"column":24},"end":{"line":71,"column":25}},"loc":{"start":{"line":71,"column":44},"end":{"line":75,"column":1}},"line":71},"1":{"name":"(anonymous_1)","decl":{"start":{"line":80,"column":17},"end":{"line":80,"column":18}},"loc":{"start":{"line":80,"column":29},"end":{"line":82,"column":1}},"line":80}},"branchMap":{"0":{"loc":{"start":{"line":38,"column":11},"end":{"line":38,"column":35}},"type":"binary-expr","locations":[{"start":{"line":38,"column":11},"end":{"line":38,"column":27}},{"start":{"line":38,"column":31},"end":{"line":38,"column":35}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":1,"1":1},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"sources":["server.js"],"names":["app","dotenv","config","path","resolve","console","log","process","env","MONGO_URL","PORT","use","express","bodyparser","urlencoded","extended","json","swaggerDefinition","yaml","load","swaggerUi","serve","setup","set","get","req","res","status","send","message","route","authRoute","module","exports","listen"],"mappings":";;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AAEA;;AAkDA;;AACA;;AAvDA;AAKA;AAEA,IAAMA,GAAG,GAAG,0BAAZ,C,CAEA;;AACAC,mBAAOC,MAAP,CAAc;AAACC,EAAAA,IAAI,EAAEA,iBAAKC,OAAL,CAAa,cAAb;AAAP,CAAd;;AACAC,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,SAAxB;AAAmC;;AACnC,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYE,IAAZ,IAAoB,IAAjC,C,CAEA;AACA;;AACAV,GAAG,CAACW,GAAJ,CAAQ,wBAAO,MAAP,CAAR;AACAX,GAAG,CAACW,GAAJ,CAAQC,8BAAe,QAAf,CAAR,E,CACA;AACA;AAEA;;AACAZ,GAAG,CAACW,GAAJ,CAAQE,uBAAWC,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAC;AAAV,CAAtB,CAAR,E,CACA;AACA;;AACAf,GAAG,CAACW,GAAJ,CAAQC,oBAAQI,IAAR,EAAR;AACAhB,GAAG,CAACW,GAAJ,CAAQ,+BAAR,E,CAEA;;AACA,IAAMM,iBAAiB,GAAGC,mBAAKC,IAAL,CAAU,gBAAV,CAA1B;;AACAnB,GAAG,CAACW,GAAJ,CAAQ,OAAR,EAAiBS,6BAAUC,KAA3B,EAAkCD,6BAAUE,KAAV,CAAgBL,iBAAhB,CAAlC,E,CAEA;AACA;;AACAjB,GAAG,CAACuB,GAAJ,CAAQ,aAAR,EAAsB,KAAtB,E,CACA;AACA;;AAEA,8B,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACAvB,GAAG,CAACwB,GAAJ,CAAQ,cAAR,EAAwB,UAACC,GAAD,EAAKC,GAAL,EAAW;AAC/BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,IAAAA,OAAO,EAAE;AAAV,GAArB;AACH,CAFD;AAMA;AACA7B,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAamB,sBAAb;AACA9B,GAAG,CAACW,GAAJ,CAAQ,GAAR,EAAYoB,sBAAZ;AAEAC,MAAM,CAACC,OAAP,GAAiBjC,GAAjB;AAEAA,GAAG,CAACkC,MAAJ,CAAWxB,IAAX,EAAgB,YAAI;AAChBL,EAAAA,OAAO,CAACC,GAAR,iDAAqDI,IAArD;AACH,CAFD","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\","sourcesContent":["import express  from \"express\";\r\nimport  dotenv  from \"dotenv\";\r\nimport  morgan  from \"morgan\";\r\nimport  bodyparser from \"body-parser\"\r\nimport  path  from \"path\";\r\nimport cookieParser from 'cookie-parser';\r\n\r\n//swagger deps\r\nimport swaggerUi from \"swagger-ui-express\";\r\nimport yaml from \"yamljs\";\r\n\r\nimport  connectDB  from './server/database/connection.js';\r\n// app.use(_path);\r\n\r\nconst app = express();\r\n\r\n// dotenv.config() \r\ndotenv.config({path: path.resolve('./config.env')});\r\nconsole.log(process.env.MONGO_URL);/*  as they were the arguments {path:'config.env'} */\r\nconst PORT = process.env.PORT || 8080\r\n\r\n// log request. or logging the messages to the node using the morgan just \r\n//as console did in the browser\r\napp.use(morgan('tiny'));\r\napp.use(express.static('public'));\r\n//connect the database to the app by calling the function defined in the \r\n// database/connection.js\r\n\r\n// parse request to body-parser\r\napp.use(bodyparser.urlencoded({extended:true}));\r\n//this just takes the json type data comes from the submitted form and process it to the regular \r\n//javascript we can use\r\napp.use(express.json());\r\napp.use(cookieParser())\r\n\r\n//swagger setup\r\nconst swaggerDefinition = yaml.load('./swagger.yaml');\r\napp.use('/docs', swaggerUi.serve, swaggerUi.setup(swaggerDefinition));\r\n\r\n// view engine ( where the parser will get the data from\r\n// in terms of format )\r\napp.set('view engine','ejs')\r\n// app.set('views', path.resolve(__dirname,'views/ejs')) in case your \r\n// ejs files are inside the ejs folder of the views folder\r\n\r\nconnectDB();\r\n\r\n\r\n// load assets. such that if there is a file in the css folder\r\n// you dont need to specify its path exclusively\r\n// just say css/file.css on the rest will be handled by \r\n//path module\r\n// app.use('/css',express.static(path.resolve(__dirname,\"assets/css\")));\r\n// app.use('/img',express.static(path.resolve(__dirname,\"assets/img\")));\r\n// app.use('/js',express.static(path.resolve(__dirname,\"assets/js\")));\r\n\r\n//routes for testing\r\napp.get(\"/api/welcome\", (req,res)=>{\r\n    res.status(302).send({message: \"Welcome to the MEN-REST-API\"});\r\n});\r\n\r\nimport route from './server/routes/blogRoutes.js';\r\nimport authRoute from './server/routes/authRoutes.js';\r\n//To reference to the routes\r\napp.use('/', route);\r\napp.use('/',authRoute);\r\n\r\nmodule.exports = app;\r\n\r\napp.listen(PORT,()=>{\r\n    console.log(`Server is running on http://localhost:${PORT}`)\r\n});\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e43390e7bc6c9ed6ee63e8d7c31c2ddd514f866a","contentHash":"f59ae28291e4cb9f68da9eaf41ce076da1dd7900cd5306adbdd1b0407ffcbe15"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\database\\connection.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\database\\connection.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":35}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":51}},"8":{"start":{"line":20,"column":0},"end":{"line":22,"column":3}},"9":{"start":{"line":26,"column":0},"end":{"line":30,"column":1}},"10":{"start":{"line":27,"column":2},"end":{"line":27,"column":33}},"11":{"start":{"line":28,"column":7},"end":{"line":30,"column":1}},"12":{"start":{"line":29,"column":2},"end":{"line":29,"column":38}},"13":{"start":{"line":32,"column":29},"end":{"line":71,"column":3}},"14":{"start":{"line":33,"column":13},"end":{"line":66,"column":5}},"15":{"start":{"line":35,"column":4},"end":{"line":65,"column":32}},"16":{"start":{"line":36,"column":6},"end":{"line":64,"column":7}},"17":{"start":{"line":37,"column":8},"end":{"line":63,"column":9}},"18":{"start":{"line":39,"column":12},"end":{"line":39,"column":30}},"19":{"start":{"line":40,"column":12},"end":{"line":40,"column":30}},"20":{"start":{"line":41,"column":12},"end":{"line":46,"column":15}},"21":{"start":{"line":49,"column":12},"end":{"line":49,"column":32}},"22":{"start":{"line":50,"column":12},"end":{"line":50,"column":169}},"23":{"start":{"line":51,"column":12},"end":{"line":51,"column":31}},"24":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"25":{"start":{"line":55,"column":12},"end":{"line":55,"column":30}},"26":{"start":{"line":56,"column":12},"end":{"line":56,"column":47}},"27":{"start":{"line":57,"column":12},"end":{"line":57,"column":37}},"28":{"start":{"line":58,"column":12},"end":{"line":58,"column":28}},"29":{"start":{"line":62,"column":12},"end":{"line":62,"column":35}},"30":{"start":{"line":68,"column":2},"end":{"line":70,"column":4}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":39}},"32":{"start":{"line":73,"column":15},"end":{"line":73,"column":24}},"33":{"start":{"line":74,"column":0},"end":{"line":74,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":32,"column":29},"end":{"line":32,"column":30}},"loc":{"start":{"line":32,"column":41},"end":{"line":71,"column":1}},"line":32},"1":{"name":"_callee","decl":{"start":{"line":33,"column":100},"end":{"line":33,"column":107}},"loc":{"start":{"line":33,"column":110},"end":{"line":66,"column":3}},"line":33},"2":{"name":"_callee$","decl":{"start":{"line":35,"column":49},"end":{"line":35,"column":57}},"loc":{"start":{"line":35,"column":68},"end":{"line":65,"column":5}},"line":35},"3":{"name":"connectDB","decl":{"start":{"line":68,"column":18},"end":{"line":68,"column":27}},"loc":{"start":{"line":68,"column":30},"end":{"line":70,"column":3}},"line":68}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":0},"end":{"line":30,"column":1}},"type":"if","locations":[{"start":{"line":26,"column":0},"end":{"line":30,"column":1}},{"start":{"line":26,"column":0},"end":{"line":30,"column":1}}],"line":26},"1":{"loc":{"start":{"line":28,"column":7},"end":{"line":30,"column":1}},"type":"if","locations":[{"start":{"line":28,"column":7},"end":{"line":30,"column":1}},{"start":{"line":28,"column":7},"end":{"line":30,"column":1}}],"line":28},"2":{"loc":{"start":{"line":37,"column":8},"end":{"line":63,"column":9}},"type":"switch","locations":[{"start":{"line":38,"column":10},"end":{"line":46,"column":15}},{"start":{"line":48,"column":10},"end":{"line":52,"column":18}},{"start":{"line":54,"column":10},"end":{"line":58,"column":28}},{"start":{"line":60,"column":10},"end":{"line":60,"column":18}},{"start":{"line":61,"column":10},"end":{"line":62,"column":35}}],"line":37}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":2,"17":3,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1},"f":{"0":1,"1":1,"2":2,"3":1},"b":{"0":[0,1],"1":[1,0],"2":[1,1,0,1,1]},"inputSourceMap":{"version":3,"sources":["connection.js"],"names":["dotenv","config","path","resolve","DB_URL","process","env","NODE_ENV","MONGO_URL","MONGO_URL_TEST","connectDB","mongoose","connect","useNewUrlParser","useUnifiedTopology","con","console","log","connection","host","toLocaleUpperCase","exit"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEAA,mBAAOC,MAAP,CAAc;AAACC,EAAAA,IAAI,EAAEA,iBAAKC,OAAL,CAAa,cAAb;AAAP,CAAd;;AAEA,IAAIC,MAAJ;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAA5B,EAAyC;AACrCH,EAAAA,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYE,SAArB;AACH,CAFD,MAIK,IAAIH,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,MAA5B,EAAmC;AACpCH,EAAAA,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYG,cAArB;AACH;;AAED,IAAMC,SAAS;AAAA,2FAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGQC,mBAASC,OAAT,CAAiBR,MAAjB,EAAyB;AACvCS,cAAAA,eAAe,EAAC,IADuB;AAEvCC,cAAAA,kBAAkB,EAAC,IAFoB,CAGvC;AACA;;AAJuC,aAAzB,CAHR;;AAAA;AAGJC,YAAAA,GAHI;AAUVC,YAAAA,OAAO,CAACC,GAAR,6BAAiCF,GAAG,CAACG,UAAJ,CAAeC,IAAhD,8CACOd,OAAO,CAACC,GAAR,CAAYC,QAAZ,CAAqBa,iBAArB,EADP;AAVU;AAAA;;AAAA;AAAA;AAAA;AAaVJ,YAAAA,OAAO,CAACC,GAAR;AACAZ,YAAAA,OAAO,CAACgB,IAAR,CAAa,CAAb;;AAdU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATX,SAAS;AAAA;AAAA;AAAA,GAAf;;eAkBeA,S","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\database\\","sourcesContent":["import {mongoose} from \"mongoose\";\r\nimport dotenv from \"dotenv\";\r\nimport  path  from \"path\";\r\n\r\ndotenv.config({path: path.resolve('./config.env')});\r\n\r\nvar DB_URL;\r\n\r\nif (process.env.NODE_ENV == \"production\"){\r\n    DB_URL = process.env.MONGO_URL;\r\n}\r\n\r\nelse if (process.env.NODE_ENV == \"test\"){\r\n    DB_URL = process.env.MONGO_URL_TEST;\r\n}\r\n\r\nconst connectDB = async () => {\r\n    try{\r\n        //mongodb connection string\r\n        const con = await mongoose.connect(DB_URL, {\r\n            useNewUrlParser:true,\r\n            useUnifiedTopology:true\r\n            // useFindAndModify:true,\r\n            // useCreateIndex:true\r\n        })\r\n\r\n        console.log(`mongoDB connected:${con.connection.host} and is running in\r\n         the ${process.env.NODE_ENV.toLocaleUpperCase()} MODE`);\r\n    } catch(error){\r\n        console.log(error);\r\n        process.exit(1);\r\n    }\r\n}\r\n\r\nexport default connectDB ;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7884aa95a1d15df6880370b69e430b388ae337a2","contentHash":"ec6e67f8f6f714bae7bce89745620734d94a0bd7ea30f9867a71e69f85d69b2d"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\blogRoutes.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\blogRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":57}},"2":{"start":{"line":7,"column":14},"end":{"line":7,"column":43}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":61}},"4":{"start":{"line":11,"column":22},"end":{"line":11,"column":85}},"5":{"start":{"line":13,"column":12},"end":{"line":13,"column":40}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":75}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":74}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":80}},"10":{"start":{"line":19,"column":0},"end":{"line":19,"column":80}},"11":{"start":{"line":21,"column":0},"end":{"line":33,"column":1}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":79}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":48}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":52}},"15":{"start":{"line":25,"column":2},"end":{"line":25,"column":82}},"16":{"start":{"line":26,"column":2},"end":{"line":26,"column":87}},"17":{"start":{"line":28,"column":2},"end":{"line":28,"column":51}},"18":{"start":{"line":29,"column":2},"end":{"line":29,"column":48}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":52}},"20":{"start":{"line":31,"column":2},"end":{"line":31,"column":54}},"21":{"start":{"line":32,"column":2},"end":{"line":32,"column":59}},"22":{"start":{"line":35,"column":0},"end":{"line":35,"column":23}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":21,"column":0},"end":{"line":33,"column":1}},"type":"if","locations":[{"start":{"line":21,"column":0},"end":{"line":33,"column":1}},{"start":{"line":21,"column":0},"end":{"line":33,"column":1}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{},"b":{"0":[0,1]},"inputSourceMap":{"version":3,"sources":["blogRoutes.js"],"names":["route","express","Router","get","homeRoutes","requireAuth","allBlogsRoutes","addBlogRoutes","updateBlogRoutes","deleteBlogRoutes","process","env","NODE_ENV","post","create","find","put","update","delet","module","exports"],"mappings":";;;;AAAA;;AAEA;;AAGA;;AACA;;AALA,IAAMA,KAAK,GAAGC,oBAAQC,MAAR,EAAd;;AAOAF,KAAK,CAACG,GAAN,CAAU,GAAV,EAAcC,kBAAd;AACAJ,KAAK,CAACG,GAAN,CAAU,WAAV,EAAsBE,0BAAtB,EAAkCC,sBAAlC;AACAN,KAAK,CAACG,GAAN,CAAU,WAAV,EAAsBE,0BAAtB,EAAkCE,qBAAlC;AACAP,KAAK,CAACG,GAAN,CAAU,cAAV,EAAyBE,0BAAzB,EAAqCG,wBAArC;AACAR,KAAK,CAACG,GAAN,CAAU,cAAV,EAAyBE,0BAAzB,EAAqCI,wBAArC,E,CAGA;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAA5B,EAAyC;AACzCZ,EAAAA,KAAK,CAACa,IAAN,CAAW,YAAX,EAAwBR,0BAAxB,EAAqCS,sBAArC;AACAd,EAAAA,KAAK,CAACG,GAAN,CAAU,YAAV,EAAwBY,oBAAxB;AACAf,EAAAA,KAAK,CAACG,GAAN,CAAU,gBAAV,EAA4BY,oBAA5B;AACAf,EAAAA,KAAK,CAACgB,GAAN,CAAU,gBAAV,EAA2BX,0BAA3B,EAAwCY,sBAAxC;AACAjB,EAAAA,KAAK,UAAL,CAAa,gBAAb,EAA8BK,0BAA9B,EAA2Ca,qBAA3C;AACC,CAND,MAQK;AACDlB,EAAAA,KAAK,CAACa,IAAN,CAAW,YAAX,EAAyBC,sBAAzB;AACAd,EAAAA,KAAK,CAACG,GAAN,CAAU,YAAV,EAAwBY,oBAAxB;AACAf,EAAAA,KAAK,CAACG,GAAN,CAAU,gBAAV,EAA4BY,oBAA5B;AACAf,EAAAA,KAAK,CAACgB,GAAN,CAAU,gBAAV,EAA4BC,sBAA5B;AACAjB,EAAAA,KAAK,UAAL,CAAa,gBAAb,EAA+BkB,qBAA/B;AACC;;AACLC,MAAM,CAACC,OAAP,GAAiBpB,KAAjB","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\","sourcesContent":["import express from 'express';\r\nconst route = express.Router();\r\nimport {allBlogsRoutes, addBlogRoutes, updateBlogRoutes, \r\n    deleteBlogRoutes, homeRoutes} from '../services/render';\r\n\r\nimport {create, find, findOne, update, delet} from '../controller/blogController';\r\nimport requireAuth from '../middleware/authMiddleware';\r\n\r\nroute.get('/',homeRoutes);\r\nroute.get('/all-blog',requireAuth,allBlogsRoutes);\r\nroute.get('/add-blog',requireAuth,addBlogRoutes);\r\nroute.get('/update-blog',requireAuth,updateBlogRoutes);\r\nroute.get('/delete-blog',requireAuth,deleteBlogRoutes);\r\n\r\n\r\n// API then \r\nif (process.env.NODE_ENV == \"production\"){\r\nroute.post('/api/blogs',requireAuth, create);\r\nroute.get('/api/blogs', find);\r\nroute.get('/api/blogs/:id', find);\r\nroute.put('/api/blogs/:id',requireAuth, update);\r\nroute.delete('/api/blogs/:id',requireAuth, delet);\r\n}\r\n\r\nelse {\r\n    route.post('/api/blogs', create);\r\n    route.get('/api/blogs', find);\r\n    route.get('/api/blogs/:id', find);\r\n    route.put('/api/blogs/:id', update);\r\n    route.delete('/api/blogs/:id', delet);\r\n    }\r\nmodule.exports = route;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5879795acf88b6d90eb9da7157656158c41ee79a","contentHash":"a1b816e2c3f0b89b193a359e395fa1af535916296f41bb4d5585036a41870a69"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\render.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\render.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":131}},"2":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"3":{"start":{"line":9,"column":2},"end":{"line":9,"column":29}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"5":{"start":{"line":14,"column":21},"end":{"line":16,"column":1}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":33}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"8":{"start":{"line":20,"column":20},"end":{"line":22,"column":1}},"9":{"start":{"line":21,"column":2},"end":{"line":21,"column":30}},"10":{"start":{"line":24,"column":0},"end":{"line":24,"column":38}},"11":{"start":{"line":26,"column":23},"end":{"line":28,"column":1}},"12":{"start":{"line":27,"column":2},"end":{"line":27,"column":30}},"13":{"start":{"line":30,"column":0},"end":{"line":30,"column":44}},"14":{"start":{"line":32,"column":23},"end":{"line":34,"column":1}},"15":{"start":{"line":33,"column":2},"end":{"line":33,"column":30}},"16":{"start":{"line":36,"column":0},"end":{"line":36,"column":44}}},"fnMap":{"0":{"name":"homeRoutes","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":36}},"loc":{"start":{"line":8,"column":47},"end":{"line":10,"column":1}},"line":8},"1":{"name":"allBlogsRoutes","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":44}},"loc":{"start":{"line":14,"column":55},"end":{"line":16,"column":1}},"line":14},"2":{"name":"addBlogRoutes","decl":{"start":{"line":20,"column":29},"end":{"line":20,"column":42}},"loc":{"start":{"line":20,"column":53},"end":{"line":22,"column":1}},"line":20},"3":{"name":"updateBlogRoutes","decl":{"start":{"line":26,"column":32},"end":{"line":26,"column":48}},"loc":{"start":{"line":26,"column":59},"end":{"line":28,"column":1}},"line":26},"4":{"name":"deleteBlogRoutes","decl":{"start":{"line":32,"column":32},"end":{"line":32,"column":48}},"loc":{"start":{"line":32,"column":59},"end":{"line":34,"column":1}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":0,"16":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"sources":["render.js"],"names":["homeRoutes","req","res","render","allBlogsRoutes","addBlogRoutes","updateBlogRoutes","deleteBlogRoutes"],"mappings":";;;;;;;AAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAKC,GAAL,EAAW;AACjCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,cAAX;AACH,CAFM;;;;AAIA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACH,GAAD,EAAKC,GAAL,EAAW;AACrCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,kBAAX;AACH,CAFM;;;;AAIA,IAAME,aAAa,GAAG,SAAhBA,aAAgB,CAACJ,GAAD,EAAKC,GAAL,EAAW;AACpCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,eAAX;AACH,CAFM;;;;AAIA,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACL,GAAD,EAAKC,GAAL,EAAW;AACvCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,eAAX;AACH,CAFM;;;;AAIA,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACN,GAAD,EAAKC,GAAL,EAAW;AACvCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,eAAX;AACH,CAFM","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\","sourcesContent":["export const homeRoutes = (req,res)=>{\r\n    res.render('static/index');\r\n}\r\n\r\nexport const allBlogsRoutes = (req,res)=>{\r\n    res.render('static/viewblogs');\r\n}\r\n\r\nexport const addBlogRoutes = (req,res)=>{\r\n    res.render('static/create');\r\n}\r\n\r\nexport const updateBlogRoutes = (req,res)=>{\r\n    res.render('static/update');\r\n}\r\n\r\nexport const deleteBlogRoutes = (req,res)=>{\r\n    res.render('static/delete');\r\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e138c7ee75fc3a88d28ada0ad17426a84b773c96","contentHash":"4a3fa702e5336b20b26244d1d5fc961a05b0f3d85fccadcc0bbdbe2e214e4df4"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\blogController.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\blogController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":72}},"3":{"start":{"line":10,"column":13},"end":{"line":10,"column":62}},"4":{"start":{"line":13,"column":13},"end":{"line":40,"column":1}},"5":{"start":{"line":15,"column":2},"end":{"line":20,"column":3}},"6":{"start":{"line":16,"column":4},"end":{"line":18,"column":7}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":11}},"8":{"start":{"line":24,"column":14},"end":{"line":29,"column":4}},"9":{"start":{"line":31,"column":2},"end":{"line":39,"column":5}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":31}},"11":{"start":{"line":36,"column":4},"end":{"line":38,"column":7}},"12":{"start":{"line":43,"column":0},"end":{"line":43,"column":24}},"13":{"start":{"line":45,"column":11},"end":{"line":75,"column":1}},"14":{"start":{"line":46,"column":2},"end":{"line":74,"column":3}},"15":{"start":{"line":47,"column":13},"end":{"line":47,"column":26}},"16":{"start":{"line":49,"column":4},"end":{"line":64,"column":7}},"17":{"start":{"line":50,"column":6},"end":{"line":58,"column":7}},"18":{"start":{"line":52,"column":8},"end":{"line":54,"column":11}},"19":{"start":{"line":57,"column":8},"end":{"line":57,"column":23}},"20":{"start":{"line":61,"column":6},"end":{"line":63,"column":9}},"21":{"start":{"line":66,"column":4},"end":{"line":73,"column":7}},"22":{"start":{"line":67,"column":6},"end":{"line":67,"column":34}},"23":{"start":{"line":70,"column":6},"end":{"line":72,"column":9}},"24":{"start":{"line":78,"column":0},"end":{"line":78,"column":20}},"25":{"start":{"line":80,"column":13},"end":{"line":115,"column":1}},"26":{"start":{"line":81,"column":2},"end":{"line":85,"column":3}},"27":{"start":{"line":82,"column":4},"end":{"line":84,"column":7}},"28":{"start":{"line":87,"column":11},"end":{"line":87,"column":24}},"29":{"start":{"line":89,"column":2},"end":{"line":114,"column":5}},"30":{"start":{"line":92,"column":4},"end":{"line":109,"column":7}},"31":{"start":{"line":93,"column":6},"end":{"line":104,"column":7}},"32":{"start":{"line":94,"column":8},"end":{"line":96,"column":11}},"33":{"start":{"line":98,"column":8},"end":{"line":103,"column":11}},"34":{"start":{"line":106,"column":6},"end":{"line":108,"column":9}},"35":{"start":{"line":111,"column":4},"end":{"line":113,"column":7}},"36":{"start":{"line":118,"column":0},"end":{"line":118,"column":24}},"37":{"start":{"line":120,"column":12},"end":{"line":138,"column":1}},"38":{"start":{"line":121,"column":11},"end":{"line":121,"column":24}},"39":{"start":{"line":123,"column":2},"end":{"line":137,"column":5}},"40":{"start":{"line":124,"column":4},"end":{"line":132,"column":5}},"41":{"start":{"line":125,"column":6},"end":{"line":127,"column":9}},"42":{"start":{"line":129,"column":6},"end":{"line":131,"column":9}},"43":{"start":{"line":134,"column":4},"end":{"line":136,"column":7}},"44":{"start":{"line":140,"column":0},"end":{"line":140,"column":22}}},"fnMap":{"0":{"name":"create","decl":{"start":{"line":13,"column":22},"end":{"line":13,"column":28}},"loc":{"start":{"line":13,"column":39},"end":{"line":40,"column":1}},"line":13},"1":{"name":"(anonymous_1)","decl":{"start":{"line":31,"column":25},"end":{"line":31,"column":26}},"loc":{"start":{"line":31,"column":41},"end":{"line":34,"column":3}},"line":31},"2":{"name":"(anonymous_2)","decl":{"start":{"line":34,"column":14},"end":{"line":34,"column":15}},"loc":{"start":{"line":34,"column":31},"end":{"line":39,"column":3}},"line":34},"3":{"name":"find","decl":{"start":{"line":45,"column":20},"end":{"line":45,"column":24}},"loc":{"start":{"line":45,"column":35},"end":{"line":75,"column":1}},"line":45},"4":{"name":"(anonymous_4)","decl":{"start":{"line":49,"column":40},"end":{"line":49,"column":41}},"loc":{"start":{"line":49,"column":56},"end":{"line":59,"column":5}},"line":49},"5":{"name":"(anonymous_5)","decl":{"start":{"line":59,"column":16},"end":{"line":59,"column":17}},"loc":{"start":{"line":59,"column":33},"end":{"line":64,"column":5}},"line":59},"6":{"name":"(anonymous_6)","decl":{"start":{"line":66,"column":34},"end":{"line":66,"column":35}},"loc":{"start":{"line":66,"column":51},"end":{"line":68,"column":5}},"line":66},"7":{"name":"(anonymous_7)","decl":{"start":{"line":68,"column":16},"end":{"line":68,"column":17}},"loc":{"start":{"line":68,"column":33},"end":{"line":73,"column":5}},"line":68},"8":{"name":"update","decl":{"start":{"line":80,"column":22},"end":{"line":80,"column":28}},"loc":{"start":{"line":80,"column":39},"end":{"line":115,"column":1}},"line":80},"9":{"name":"(anonymous_9)","decl":{"start":{"line":91,"column":10},"end":{"line":91,"column":11}},"loc":{"start":{"line":91,"column":26},"end":{"line":110,"column":3}},"line":91},"10":{"name":"(anonymous_10)","decl":{"start":{"line":92,"column":40},"end":{"line":92,"column":41}},"loc":{"start":{"line":92,"column":56},"end":{"line":105,"column":5}},"line":92},"11":{"name":"(anonymous_11)","decl":{"start":{"line":105,"column":16},"end":{"line":105,"column":17}},"loc":{"start":{"line":105,"column":33},"end":{"line":109,"column":5}},"line":105},"12":{"name":"(anonymous_12)","decl":{"start":{"line":110,"column":14},"end":{"line":110,"column":15}},"loc":{"start":{"line":110,"column":29},"end":{"line":114,"column":3}},"line":110},"13":{"name":"delet","decl":{"start":{"line":120,"column":21},"end":{"line":120,"column":26}},"loc":{"start":{"line":120,"column":37},"end":{"line":138,"column":1}},"line":120},"14":{"name":"(anonymous_14)","decl":{"start":{"line":123,"column":47},"end":{"line":123,"column":48}},"loc":{"start":{"line":123,"column":63},"end":{"line":133,"column":3}},"line":123},"15":{"name":"(anonymous_15)","decl":{"start":{"line":133,"column":14},"end":{"line":133,"column":15}},"loc":{"start":{"line":133,"column":31},"end":{"line":137,"column":3}},"line":133}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":2},"end":{"line":20,"column":3}},"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":20,"column":3}},{"start":{"line":15,"column":2},"end":{"line":20,"column":3}}],"line":15},"1":{"loc":{"start":{"line":46,"column":2},"end":{"line":74,"column":3}},"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":74,"column":3}},{"start":{"line":46,"column":2},"end":{"line":74,"column":3}}],"line":46},"2":{"loc":{"start":{"line":50,"column":6},"end":{"line":58,"column":7}},"type":"if","locations":[{"start":{"line":50,"column":6},"end":{"line":58,"column":7}},{"start":{"line":50,"column":6},"end":{"line":58,"column":7}}],"line":50},"3":{"loc":{"start":{"line":71,"column":17},"end":{"line":71,"column":83}},"type":"binary-expr","locations":[{"start":{"line":71,"column":17},"end":{"line":71,"column":30}},{"start":{"line":71,"column":34},"end":{"line":71,"column":83}}],"line":71},"4":{"loc":{"start":{"line":81,"column":2},"end":{"line":85,"column":3}},"type":"if","locations":[{"start":{"line":81,"column":2},"end":{"line":85,"column":3}},{"start":{"line":81,"column":2},"end":{"line":85,"column":3}}],"line":81},"5":{"loc":{"start":{"line":93,"column":6},"end":{"line":104,"column":7}},"type":"if","locations":[{"start":{"line":93,"column":6},"end":{"line":104,"column":7}},{"start":{"line":93,"column":6},"end":{"line":104,"column":7}}],"line":93},"6":{"loc":{"start":{"line":124,"column":4},"end":{"line":132,"column":5}},"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":132,"column":5}},{"start":{"line":124,"column":4},"end":{"line":132,"column":5}}],"line":124}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":5,"6":0,"7":0,"8":5,"9":5,"10":5,"11":0,"12":1,"13":1,"14":3,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":3,"22":3,"23":0,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1},"f":{"0":5,"1":5,"2":0,"3":3,"4":0,"5":0,"6":3,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[0,5],"1":[0,3],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"inputSourceMap":{"version":3,"sources":["blogController.js"],"names":["create","req","res","body","status","send","message","bloge","Blogdb","title","author","date","save","then","data","error","find","params","id","findById","json","blogs","update","findByIdAndUpdate","userFindAndModify","err","delet","findByIdAndDelete","mesage"],"mappings":"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","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\","sourcesContent":["import Blogdb from '../model/model';\r\n\r\n\r\n//create and save new blog\r\nexport const create = (req,res)=>{\r\n\r\n    //validate request\r\n    if ( !req.body){\r\n        res.status(400).send({\r\n            message: \"Content can not be empty\"\r\n        });\r\n        return;\r\n    }\r\n    // console.log(req.body);\r\n    //new blog\r\n    const bloge = new Blogdb({\r\n        title: req.body.title,\r\n        body: req.body.body,\r\n        author: req.body.author,\r\n        date: req.body.date\r\n    })\r\n    //save blog to database\r\n    bloge\r\n    .save(bloge)\r\n    .then ((data) =>{\r\n        // console.log(data);\r\n        res.status(201).send(data);\r\n    })\r\n    .catch((error)=>{\r\n        // console(req.body);\r\n        res.status(500).send({\r\n            message: \"Some error occured while creating a create operation\"\r\n        });\r\n    });\r\n\r\n}\r\n\r\n//retrieve and return all blogs / retrieve and return a single user\r\nexport const find = (req,res)=>{\r\n    if (req.params.id){\r\n        const id = req.params.id;\r\n        // console.log('hello hello ' + id);\r\n        Blogdb.findById(id)\r\n        .then((data)=>{\r\n            if (!data){\r\n                // res.status(404).send({message: \"Not found user with id\" + id})\r\n                res.status(404).json({message: \"Not found user with id\"});\r\n            }\r\n            else {\r\n                // res.send(data)\r\n                res.json(data)\r\n            }\r\n        })\r\n        .catch((error)=>{\r\n            // res.status(500).send({message: \"Error retrieving the user with id: \" + id})\r\n            res.status(500).json({message: \"Error retrieving the user with id: \" + id})\r\n        })\r\n    }\r\n\r\n    else {\r\n        Blogdb.find()\r\n        .then((blogs)=>{\r\n            res.status(202).send(blogs);\r\n        })\r\n        .catch((error)=>{\r\n            // res.status(500).send({message:error.message || 'Error Occured while retrieving blog information'})\r\n            res.status(500).json({message:error.message || 'Error Occured while retrieving blog information'})\r\n        })\r\n    }\r\n}\r\n\r\n//update a new identified blog with the blog id\r\nexport const update = (req,res)=>{\r\nif (!req.body){\r\n    return res\r\n    .status(400)\r\n    .send({message: \"No content to update, point the correct blog\"})\r\n}\r\n\r\nconst id = req.params.id;\r\nBlogdb.findByIdAndUpdate(id, req.body, {userFindAndModify:false})\r\n.then((data)=>{\r\n    Blogdb.findById(id)\r\n        .then((data)=>{\r\n            if (!data){\r\n                res.status(404).send({message: \"No content to update\"});\r\n            }\r\n            else {\r\n                res.status(205).send({\r\n                    title:data.title,\r\n                    body:data.body,\r\n                    author:data.author,\r\n                    date:data.date\r\n                })\r\n            }\r\n})\r\n.catch((error)=>{\r\n    res.status(404).send({message: \"No content to update\"});\r\n})\r\n})\r\n.catch((err)=>{\r\n    res.status(400).send({message: \"Not blog found with the provided ID\"})\r\n})\r\n}\r\n// delete the blog with the blog is specified in the request\r\nexport const delet = (req,res)=>{\r\n    const id = req.params.id;\r\n\r\n    Blogdb.findByIdAndDelete(id)\r\n    .then((data)=>{\r\n        if(!data){\r\n            res.status(403).send({mesage: `Content to delete already doesn't exist`})\r\n        }\r\n        else {\r\n            res.send({\r\n                message: 'Blogs deleted Successfuly!!'\r\n            })\r\n        }\r\n    })\r\n    .catch((error) =>{\r\n        res.status(500).send({\r\n            message: `Could not delete the blog with id = ${id}`\r\n        });\r\n    });\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"58be20361a3fa7ee2ce9a1457dca9b47cb243b05","contentHash":"45693a363429db4f7f12358a207ce98194f4258670e99f8f754036720ba3e31c"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\model.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\model.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":16},"end":{"line":5,"column":59}},"2":{"start":{"line":7,"column":13},"end":{"line":19,"column":2}},"3":{"start":{"line":21,"column":13},"end":{"line":21,"column":56}},"4":{"start":{"line":23,"column":0},"end":{"line":23,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["model.js"],"names":["schema","mongoose","Schema","title","type","String","body","author","date","Blogdb","model","module","exports"],"mappings":";;;;AAAA;;AACA,IAAIA,MAAM,GAAG,IAAIC,qBAASC,MAAb,CAAoB;AAC7BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,IAAI,EAAEC,MADH,CAEH;;AAFG,GADsB;AAK7BC,EAAAA,IAAI,EAAE;AACFF,IAAAA,IAAI,EAAEC,MADJ,CAEF;AACA;;AAHE,GALuB;AAU7BE,EAAAA,MAAM,EAAEF,MAVqB;AAW7BG,EAAAA,IAAI,EAAEH;AAXuB,CAApB,CAAb;;AAcA,IAAMI,MAAM,GAAGR,qBAASS,KAAT,CAAe,OAAf,EAAwBV,MAAxB,CAAf;;AAEAW,MAAM,CAACC,OAAP,GAAiBH,MAAjB","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\model\\","sourcesContent":["import mongoose from 'mongoose';\r\nvar schema = new mongoose.Schema({\r\n    title: {\r\n        type: String,\r\n        // required:true\r\n    },\r\n    body: {\r\n        type: String,\r\n        // required:true\r\n        // unique:true\r\n    },\r\n    author: String,\r\n    date: String\r\n})\r\n\r\nconst Blogdb = mongoose.model(\"bloge\", schema);\r\n\r\nmodule.exports = Blogdb;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4e0cfdc8c360047f3c9c150a5d0feff29fa6bcc0","contentHash":"a42b45b49bbc71494c140757adf3f52999429f80b8d4ad5baae1da91b102a46a"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\middleware\\authMiddleware.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\middleware\\authMiddleware.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"4":{"start":{"line":12,"column":12},"end":{"line":12,"column":51}},"5":{"start":{"line":14,"column":10},"end":{"line":14,"column":33}},"6":{"start":{"line":16,"column":0},"end":{"line":18,"column":3}},"7":{"start":{"line":20,"column":18},"end":{"line":63,"column":1}},"8":{"start":{"line":24,"column":2},"end":{"line":24,"column":41}},"9":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"10":{"start":{"line":29,"column":4},"end":{"line":29,"column":48}},"11":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"12":{"start":{"line":31,"column":4},"end":{"line":31,"column":34}},"13":{"start":{"line":34,"column":2},"end":{"line":62,"column":3}},"14":{"start":{"line":36,"column":20},"end":{"line":36,"column":43}},"15":{"start":{"line":37,"column":22},"end":{"line":37,"column":34}},"16":{"start":{"line":39,"column":4},"end":{"line":53,"column":5}},"17":{"start":{"line":40,"column":6},"end":{"line":51,"column":9}},"18":{"start":{"line":41,"column":8},"end":{"line":50,"column":9}},"19":{"start":{"line":44,"column":10},"end":{"line":46,"column":13}},"20":{"start":{"line":49,"column":10},"end":{"line":49,"column":17}},"21":{"start":{"line":56,"column":4},"end":{"line":58,"column":7}},"22":{"start":{"line":59,"column":4},"end":{"line":61,"column":7}},"23":{"start":{"line":65,"column":15},"end":{"line":65,"column":26}},"24":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}}},"fnMap":{"0":{"name":"requireAuth","decl":{"start":{"line":20,"column":27},"end":{"line":20,"column":38}},"loc":{"start":{"line":20,"column":55},"end":{"line":63,"column":1}},"line":20},"1":{"name":"(anonymous_1)","decl":{"start":{"line":40,"column":57},"end":{"line":40,"column":58}},"loc":{"start":{"line":40,"column":86},"end":{"line":51,"column":7}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},{"start":{"line":28,"column":2},"end":{"line":32,"column":3}}],"line":28},"1":{"loc":{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},"type":"if","locations":[{"start":{"line":30,"column":9},"end":{"line":32,"column":3}},{"start":{"line":30,"column":9},"end":{"line":32,"column":3}}],"line":30},"2":{"loc":{"start":{"line":34,"column":2},"end":{"line":62,"column":3}},"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":62,"column":3}},{"start":{"line":34,"column":2},"end":{"line":62,"column":3}}],"line":34},"3":{"loc":{"start":{"line":39,"column":4},"end":{"line":53,"column":5}},"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":53,"column":5}},{"start":{"line":39,"column":4},"end":{"line":53,"column":5}}],"line":39},"4":{"loc":{"start":{"line":41,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":50,"column":9}},{"start":{"line":41,"column":8},"end":{"line":50,"column":9}}],"line":41}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":2,"9":2,"10":0,"11":2,"12":2,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":2,"1":1},"b":{"0":[0,2],"1":[2,0],"2":[1,1],"3":[1,0],"4":[0,1]},"inputSourceMap":{"version":3,"sources":["authMiddleware.js"],"names":["jwt","require","dotenv","config","path","resolve","requireAuth","req","res","next","console","log","process","env","SECRET_KEY_DB","bearerHeader","NODE_ENV","headers","body","token","bearerArr","split","bearerToken","verify","err","decodedToken","status","json","Error_message","send","message"],"mappings":";;;;;;;;;AACA;;AACA;;AAFA,IAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAIAC,mBAAOC,MAAP,CAAc;AAACC,EAAAA,IAAI,EAAEA,iBAAKC,OAAL,CAAa,cAAb;AAAP,CAAd;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAkB;AAElC;AACA;AAEA;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,aAAxB,EANkC,CAQlC;;AACA,MAAIC,YAAJ;;AACJ,MAAIH,OAAO,CAACC,GAAR,CAAYG,QAAZ,IAAwB,YAA5B,EAAyC;AACrCD,IAAAA,YAAY,GAAGR,GAAG,CAACU,OAAJ,CAAY,eAAZ,CAAf;AACH,GAFD,MAGK,IAAIL,OAAO,CAACC,GAAR,CAAYG,QAAZ,IAAwB,MAA5B,EAAmC;AACpCD,IAAAA,YAAY,GAAGR,GAAG,CAACW,IAAJ,CAASC,KAAxB;AACH;;AACG,MAAI,OAAQJ,YAAR,KAA0B,WAA9B,EAA0C;AACrC;AACD,QAAIK,SAAS,GAAGL,YAAY,CAACM,KAAb,CAAmB,GAAnB,CAAhB;AACA,QAAMC,WAAW,GAAGF,SAAS,CAAC,CAAD,CAA7B,CAHsC,CAI1C;;AACI,QAAGE,WAAH,EAAe;AACXtB,MAAAA,GAAG,CAACuB,MAAJ,CAAWD,WAAX,EAAuBV,OAAO,CAACC,GAAR,CAAYC,aAAnC,EAAkD,UAACU,GAAD,EAAMC,YAAN,EAAsB;AACpE,YAAGD,GAAH,EAAO;AACH;AACR;AACAhB,UAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,YAAAA,aAAa,EAAC;AAAf,WAArB;AACK,SAJD,MAKK;AACD;AACAnB,UAAAA,IAAI;AACP;AACJ,OAVD;AAWH,KAZD,MAaK,CACD;AACH;AACJ,GArBD,MAsBI;AACA;AACAD,IAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,aAAa,EAAC;AAAf,KAArB;AACApB,IAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBG,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAE;AAAV,KAArB;AACH;AAEJ,CA5CD;;eA8CexB,W","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\middleware\\","sourcesContent":["const jwt = require('jsonwebtoken');\r\nimport dotenv from \"dotenv\";\r\nimport  path  from \"path\";\r\n\r\ndotenv.config({path: path.resolve('./config.env')});\r\n\r\nconst requireAuth = (req, res, next)=>{\r\n\r\n    //grabbing token from the cookies section of the each and every request made\r\n    // const cookieToken = req.cookies.jwt;\r\n\r\n    //Grab the token from the header parts of the postman\r\n    console.log(process.env.SECRET_KEY_DB);\r\n\r\n    // FORMAT of them coming back => Authorization: Bearer <access_token>\r\n    var bearerHeader;\r\nif (process.env.NODE_ENV == \"production\"){\r\n    bearerHeader = req.headers['authorization'];\r\n}\r\nelse if (process.env.NODE_ENV == \"test\"){\r\n    bearerHeader = req.body.token;\r\n}   \r\n    if (typeof (bearerHeader) !== 'undefined'){\r\n         //split the bearer from string to the array\r\n        let bearerArr = bearerHeader.split(\" \");\r\n        const bearerToken = bearerArr[1];\r\n    //get the token from the array\r\n        if(bearerToken){\r\n            jwt.verify(bearerToken,process.env.SECRET_KEY_DB, (err, decodedToken) =>{\r\n                if(err){\r\n                    // (err.message)\r\n            // res.redirect('/login');\r\n            res.status(401).json({Error_message:'The action require to login'});\r\n                }\r\n                else {\r\n                    // console.log(decodedToken);\r\n                    next();\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            // res.redirect('/login');\r\n        }\r\n    }\r\n    else{\r\n        // res.status(404).json({message: 'login to access the routes!'});\r\n        res.status(401).json({Error_message:'The action require to login'})\r\n        res.status(401).send({message: 'login to access the routes!'});\r\n    }\r\n\r\n}\r\n\r\nexport default requireAuth;\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f2ff3418888f72237ddc2ffa03ad2243ab2ffe48","contentHash":"75f248ad9b595c4af215f96297a242a3f9179389c4823ada407741056200b22a"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\authRoutes.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\authRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":15},"end":{"line":5,"column":57}},"2":{"start":{"line":7,"column":18},"end":{"line":7,"column":51}},"3":{"start":{"line":9,"column":22},"end":{"line":9,"column":61}},"4":{"start":{"line":11,"column":22},"end":{"line":11,"column":85}},"5":{"start":{"line":13,"column":16},"end":{"line":13,"column":44}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":49}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":51}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":47}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":49}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":67}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":65}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":65}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":92}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":27}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["authRoutes.js"],"names":["authRoute","express","Router","get","signup_get","post","signup_post","login_get","login_post","signup_post_contro","login_post_contro","logout_get_contro","requireAuth","get_all_users","module","exports"],"mappings":";;;;AAAA;;AAEA;;AACA;;AACA;;AAHA,IAAMA,SAAS,GAAGC,oBAAQC,MAAR,EAAlB;;AAKAF,SAAS,CAACG,GAAV,CAAc,SAAd,EAAwBC,sBAAxB;AACAJ,SAAS,CAACK,IAAV,CAAe,SAAf,EAA0BC,uBAA1B;AACAN,SAAS,CAACG,GAAV,CAAc,QAAd,EAAwBI,qBAAxB;AACAP,SAAS,CAACK,IAAV,CAAe,QAAf,EAAyBG,sBAAzB,E,CAIA;;AACAR,SAAS,CAACK,IAAV,CAAe,cAAf,EAA8BI,kCAA9B;AACAT,SAAS,CAACK,IAAV,CAAe,aAAf,EAA6BK,iCAA7B;AACAV,SAAS,CAACG,GAAV,CAAc,cAAd,EAA6BQ,iCAA7B;AACAX,SAAS,CAACG,GAAV,CAAc,iBAAd,EAAgCS,0BAAhC,EAA4CC,6BAA5C;AAEAC,MAAM,CAACC,OAAP,GAAiBf,SAAjB","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\routes\\","sourcesContent":["import express from 'express';\r\nconst authRoute = express.Router();\r\nimport {signup_get,signup_post,login_get,login_post} from '../services/authRender';\r\nimport {signup_post_contro,login_post_contro,logout_get_contro, get_all_users} from '../controller/authController';\r\nimport requireAuth from \"../middleware/authMiddleware\";\r\n\r\nauthRoute.get('/signup',signup_get);\r\nauthRoute.post('/signup', signup_post);\r\nauthRoute.get('/login', login_get);\r\nauthRoute.post('/login', login_post);\r\n\r\n\r\n\r\n// auth API\r\nauthRoute.post('/auth/signup',signup_post_contro );\r\nauthRoute.post('/auth/login',login_post_contro );\r\nauthRoute.get('/auth/logout',logout_get_contro );\r\nauthRoute.get('/auth/all-users',requireAuth,get_all_users);\r\n\r\nmodule.exports = authRoute;\r\n\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2c1065568d396b8e350cda5d54d697da26ee0ec8","contentHash":"51c132787c56ed79b7062641a2367a19f49658f59f5dd615196fb9c72c01d99f"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\authRender.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\authRender.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":91}},"2":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"3":{"start":{"line":9,"column":2},"end":{"line":9,"column":23}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"5":{"start":{"line":14,"column":16},"end":{"line":16,"column":1}},"6":{"start":{"line":15,"column":2},"end":{"line":15,"column":22}},"7":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}},"8":{"start":{"line":20,"column":18},"end":{"line":26,"column":1}},"9":{"start":{"line":21,"column":18},"end":{"line":21,"column":26}},"10":{"start":{"line":22,"column":14},"end":{"line":22,"column":29}},"11":{"start":{"line":23,"column":17},"end":{"line":23,"column":35}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":31}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":25}},"14":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}},"15":{"start":{"line":30,"column":17},"end":{"line":36,"column":1}},"16":{"start":{"line":31,"column":19},"end":{"line":31,"column":27}},"17":{"start":{"line":32,"column":14},"end":{"line":32,"column":30}},"18":{"start":{"line":33,"column":17},"end":{"line":33,"column":36}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":29}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":32}}},"fnMap":{"0":{"name":"signup_get","decl":{"start":{"line":8,"column":26},"end":{"line":8,"column":36}},"loc":{"start":{"line":8,"column":47},"end":{"line":10,"column":1}},"line":8},"1":{"name":"login_get","decl":{"start":{"line":14,"column":25},"end":{"line":14,"column":34}},"loc":{"start":{"line":14,"column":45},"end":{"line":16,"column":1}},"line":14},"2":{"name":"signup_post","decl":{"start":{"line":20,"column":27},"end":{"line":20,"column":38}},"loc":{"start":{"line":20,"column":49},"end":{"line":26,"column":1}},"line":20},"3":{"name":"login_post","decl":{"start":{"line":30,"column":26},"end":{"line":30,"column":36}},"loc":{"start":{"line":30,"column":47},"end":{"line":36,"column":1}},"line":30}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":0,"1":0,"2":0,"3":0},"b":{},"inputSourceMap":{"version":3,"sources":["authRender.js"],"names":["signup_get","req","res","render","login_get","signup_post","body","email","password","console","log","send","login_post"],"mappings":";;;;;;;AACO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAKC,GAAL,EAAW;AACjCA,EAAAA,GAAG,CAACC,MAAJ,CAAW,QAAX;AACC,CAFE;;;;AAIA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACH,GAAD,EAAKC,GAAL,EAAW;AAC5BA,EAAAA,GAAG,CAACC,MAAJ,CAAW,OAAX;AACC,CAFF;;;;AAKA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACJ,GAAD,EAAKC,GAAL,EAAW;AAC1B,kBAA4BD,GAAG,CAACK,IAAhC;AAAA,MAAQC,KAAR,aAAQA,KAAR;AAAA,MAAeC,QAAf,aAAeA,QAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,QAAnB;AACAN,EAAAA,GAAG,CAACS,IAAJ,CAAS,YAAT;AACC,CAJN;;;;AAMA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACX,GAAD,EAAKC,GAAL,EAAW;AACjC,mBAA4BD,GAAG,CAACK,IAAhC;AAAA,MAAQC,KAAR,cAAQA,KAAR;AAAA,MAAeC,QAAf,cAAeA,QAAf,CADiC,CAEjC;;AACYN,EAAAA,GAAG,CAACS,IAAJ,CAAS,gBAAT;AACN,CAJH","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\services\\","sourcesContent":["\r\nexport const signup_get = (req,res)=>{\r\n    res.render('signup');\r\n    };\r\n    \r\nexport const login_get = (req,res)=>{\r\n        res.render('login');\r\n        };\r\n    \r\n\r\nexport const signup_post = (req,res)=>{\r\n            const { email, password } = req.body;\r\n            console.log(email, password);\r\n            res.send('New signup');\r\n            };\r\n    \r\nexport const login_post = (req,res)=>{\r\n    const { email, password } = req.body;\r\n    // console.log(email, password);\r\n                res.send(\"User logged in\")\r\n         };\r\n    \r\n    \r\n    "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bb91dc79f1018a27d6221362443be622ca31e13e","contentHash":"b01f5718f4f7cd1f67b0caec8d5b33b528c07d993d0dfa1550a60e973eee0a02"},"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\authController.js":{"path":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\authController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":116}},"3":{"start":{"line":10,"column":19},"end":{"line":10,"column":80}},"4":{"start":{"line":12,"column":25},"end":{"line":12,"column":99}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":70}},"6":{"start":{"line":16,"column":20},"end":{"line":16,"column":67}},"7":{"start":{"line":18,"column":19},"end":{"line":40,"column":1}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":41}},"9":{"start":{"line":20,"column":15},"end":{"line":23,"column":3}},"10":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"11":{"start":{"line":26,"column":4},"end":{"line":26,"column":48}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":18}},"13":{"start":{"line":31,"column":2},"end":{"line":37,"column":3}},"14":{"start":{"line":33,"column":4},"end":{"line":36,"column":7}},"15":{"start":{"line":35,"column":6},"end":{"line":35,"column":57}},"16":{"start":{"line":39,"column":2},"end":{"line":39,"column":16}},"17":{"start":{"line":43,"column":13},"end":{"line":43,"column":29}},"18":{"start":{"line":45,"column":18},"end":{"line":51,"column":1}},"19":{"start":{"line":46,"column":2},"end":{"line":50,"column":5}},"20":{"start":{"line":53,"column":38},"end":{"line":104,"column":3}},"21":{"start":{"line":54,"column":13},"end":{"line":99,"column":5}},"22":{"start":{"line":57,"column":4},"end":{"line":98,"column":32}},"23":{"start":{"line":58,"column":6},"end":{"line":97,"column":7}},"24":{"start":{"line":59,"column":8},"end":{"line":96,"column":9}},"25":{"start":{"line":61,"column":12},"end":{"line":61,"column":89}},"26":{"start":{"line":62,"column":12},"end":{"line":62,"column":30}},"27":{"start":{"line":63,"column":12},"end":{"line":63,"column":30}},"28":{"start":{"line":64,"column":12},"end":{"line":67,"column":15}},"29":{"start":{"line":70,"column":12},"end":{"line":70,"column":33}},"30":{"start":{"line":71,"column":12},"end":{"line":71,"column":42}},"31":{"start":{"line":76,"column":12},"end":{"line":81,"column":15}},"32":{"start":{"line":82,"column":12},"end":{"line":82,"column":31}},"33":{"start":{"line":83,"column":12},"end":{"line":83,"column":18}},"34":{"start":{"line":86,"column":12},"end":{"line":86,"column":30}},"35":{"start":{"line":87,"column":12},"end":{"line":87,"column":47}},"36":{"start":{"line":88,"column":12},"end":{"line":88,"column":46}},"37":{"start":{"line":89,"column":12},"end":{"line":91,"column":15}},"38":{"start":{"line":95,"column":12},"end":{"line":95,"column":35}},"39":{"start":{"line":101,"column":2},"end":{"line":103,"column":4}},"40":{"start":{"line":102,"column":4},"end":{"line":102,"column":39}},"41":{"start":{"line":106,"column":0},"end":{"line":106,"column":48}},"42":{"start":{"line":108,"column":37},"end":{"line":157,"column":3}},"43":{"start":{"line":109,"column":14},"end":{"line":152,"column":5}},"44":{"start":{"line":112,"column":4},"end":{"line":151,"column":33}},"45":{"start":{"line":113,"column":6},"end":{"line":150,"column":7}},"46":{"start":{"line":114,"column":8},"end":{"line":149,"column":9}},"47":{"start":{"line":116,"column":12},"end":{"line":116,"column":92}},"48":{"start":{"line":117,"column":12},"end":{"line":117,"column":31}},"49":{"start":{"line":118,"column":12},"end":{"line":118,"column":31}},"50":{"start":{"line":119,"column":12},"end":{"line":119,"column":64}},"51":{"start":{"line":122,"column":12},"end":{"line":122,"column":34}},"52":{"start":{"line":123,"column":12},"end":{"line":123,"column":42}},"53":{"start":{"line":128,"column":12},"end":{"line":135,"column":15}},"54":{"start":{"line":136,"column":12},"end":{"line":136,"column":32}},"55":{"start":{"line":137,"column":12},"end":{"line":137,"column":18}},"56":{"start":{"line":140,"column":12},"end":{"line":140,"column":31}},"57":{"start":{"line":141,"column":12},"end":{"line":141,"column":49}},"58":{"start":{"line":142,"column":12},"end":{"line":144,"column":15}},"59":{"start":{"line":148,"column":12},"end":{"line":148,"column":36}},"60":{"start":{"line":154,"column":2},"end":{"line":156,"column":4}},"61":{"start":{"line":155,"column":4},"end":{"line":155,"column":40}},"62":{"start":{"line":159,"column":0},"end":{"line":159,"column":46}},"63":{"start":{"line":161,"column":24},"end":{"line":170,"column":1}},"64":{"start":{"line":163,"column":2},"end":{"line":165,"column":5}},"65":{"start":{"line":166,"column":2},"end":{"line":169,"column":5}},"66":{"start":{"line":172,"column":0},"end":{"line":172,"column":46}},"67":{"start":{"line":174,"column":20},"end":{"line":183,"column":1}},"68":{"start":{"line":175,"column":2},"end":{"line":182,"column":5}},"69":{"start":{"line":176,"column":4},"end":{"line":176,"column":32}},"70":{"start":{"line":179,"column":4},"end":{"line":181,"column":7}},"71":{"start":{"line":185,"column":0},"end":{"line":185,"column":38}}},"fnMap":{"0":{"name":"handleErrors","decl":{"start":{"line":18,"column":28},"end":{"line":18,"column":40}},"loc":{"start":{"line":18,"column":48},"end":{"line":40,"column":1}},"line":18},"1":{"name":"(anonymous_1)","decl":{"start":{"line":33,"column":40},"end":{"line":33,"column":41}},"loc":{"start":{"line":33,"column":54},"end":{"line":36,"column":5}},"line":33},"2":{"name":"createToken","decl":{"start":{"line":45,"column":27},"end":{"line":45,"column":38}},"loc":{"start":{"line":45,"column":43},"end":{"line":51,"column":1}},"line":45},"3":{"name":"(anonymous_3)","decl":{"start":{"line":53,"column":38},"end":{"line":53,"column":39}},"loc":{"start":{"line":53,"column":50},"end":{"line":104,"column":1}},"line":53},"4":{"name":"_callee","decl":{"start":{"line":54,"column":100},"end":{"line":54,"column":107}},"loc":{"start":{"line":54,"column":118},"end":{"line":99,"column":3}},"line":54},"5":{"name":"_callee$","decl":{"start":{"line":57,"column":49},"end":{"line":57,"column":57}},"loc":{"start":{"line":57,"column":68},"end":{"line":98,"column":5}},"line":57},"6":{"name":"signup_post_contro","decl":{"start":{"line":101,"column":18},"end":{"line":101,"column":36}},"loc":{"start":{"line":101,"column":46},"end":{"line":103,"column":3}},"line":101},"7":{"name":"(anonymous_7)","decl":{"start":{"line":108,"column":37},"end":{"line":108,"column":38}},"loc":{"start":{"line":108,"column":49},"end":{"line":157,"column":1}},"line":108},"8":{"name":"_callee2","decl":{"start":{"line":109,"column":101},"end":{"line":109,"column":109}},"loc":{"start":{"line":109,"column":120},"end":{"line":152,"column":3}},"line":109},"9":{"name":"_callee2$","decl":{"start":{"line":112,"column":49},"end":{"line":112,"column":58}},"loc":{"start":{"line":112,"column":70},"end":{"line":151,"column":5}},"line":112},"10":{"name":"login_post_contro","decl":{"start":{"line":154,"column":18},"end":{"line":154,"column":35}},"loc":{"start":{"line":154,"column":46},"end":{"line":156,"column":3}},"line":154},"11":{"name":"logout_get_contro","decl":{"start":{"line":161,"column":33},"end":{"line":161,"column":50}},"loc":{"start":{"line":161,"column":61},"end":{"line":170,"column":1}},"line":161},"12":{"name":"get_all_users","decl":{"start":{"line":174,"column":29},"end":{"line":174,"column":42}},"loc":{"start":{"line":174,"column":53},"end":{"line":183,"column":1}},"line":174},"13":{"name":"(anonymous_13)","decl":{"start":{"line":175,"column":36},"end":{"line":175,"column":37}},"loc":{"start":{"line":175,"column":53},"end":{"line":177,"column":3}},"line":175},"14":{"name":"(anonymous_14)","decl":{"start":{"line":177,"column":14},"end":{"line":177,"column":15}},"loc":{"start":{"line":177,"column":31},"end":{"line":182,"column":3}},"line":177}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},{"start":{"line":25,"column":2},"end":{"line":28,"column":3}}],"line":25},"1":{"loc":{"start":{"line":31,"column":2},"end":{"line":37,"column":3}},"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":37,"column":3}},{"start":{"line":31,"column":2},"end":{"line":37,"column":3}}],"line":31},"2":{"loc":{"start":{"line":59,"column":8},"end":{"line":96,"column":9}},"type":"switch","locations":[{"start":{"line":60,"column":10},"end":{"line":67,"column":15}},{"start":{"line":69,"column":10},"end":{"line":83,"column":18}},{"start":{"line":85,"column":10},"end":{"line":91,"column":15}},{"start":{"line":93,"column":10},"end":{"line":93,"column":18}},{"start":{"line":94,"column":10},"end":{"line":95,"column":35}}],"line":59},"3":{"loc":{"start":{"line":114,"column":8},"end":{"line":149,"column":9}},"type":"switch","locations":[{"start":{"line":115,"column":10},"end":{"line":119,"column":64}},{"start":{"line":121,"column":10},"end":{"line":137,"column":18}},{"start":{"line":139,"column":10},"end":{"line":144,"column":15}},{"start":{"line":146,"column":10},"end":{"line":146,"column":18}},{"start":{"line":147,"column":10},"end":{"line":148,"column":36}}],"line":114},"4":{"loc":{"start":{"line":180,"column":15},"end":{"line":180,"column":81}},"type":"binary-expr","locations":[{"start":{"line":180,"column":15},"end":{"line":180,"column":28}},{"start":{"line":180,"column":32},"end":{"line":180,"column":81}}],"line":180}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":2,"20":1,"21":1,"22":1,"23":2,"24":3,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":2,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":0,"58":0,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":0,"71":1},"f":{"0":0,"1":0,"2":2,"3":1,"4":1,"5":2,"6":1,"7":1,"8":1,"9":2,"10":1,"11":1,"12":1,"13":1,"14":0},"b":{"0":[0,0],"1":[0,0],"2":[1,1,0,1,1],"3":[1,1,0,1,1],"4":[0,0]},"inputSourceMap":{"version":3,"sources":["authController.js"],"names":["handleErrors","error","console","log","message","code","errors","email","password","includes","Object","values","forEach","er","properties","path","maxAge","createToken","id","jwt","sign","expiresIn","signup_post_contro","req","res","body","Userdb","create","user","token","_id","status","json","userCred","login_post_contro","login","response","logout_get_contro","get_all_users","find","then","users","send"],"mappings":"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","sourceRoot":"C:\\Users\\Sylvain.DESKTOP-CPV7DL5\\Desktop\\Brand_Test\\My Blog\\My_brand_MEN\\server\\controller\\","sourcesContent":["import Userdb from '../model/authModel';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n\r\nconst handleErrors = (error)=>{\r\n    console.log(error.message, error.code);\r\n    let errors = {email :\"\", password : \"\"};\r\n\r\n    //duplicate error checking\r\n    if (error.code == 11000){\r\n        errors['email'] = \"The user already exists\";\r\n        return errors;\r\n    }\r\n    \r\n    //validation errors\r\n    if (error.message.includes('user validation failed')){\r\n        // console.log(Object.values(error.errors));\r\n        Object.values(error.errors).forEach((er)=>{\r\n            // console.log(er.properties);\r\n            errors[er.properties.path] = er.properties.message;\r\n        });\r\n   // console.log( `email_error  is ${errors.email} and the password_error is ${errors.email}`)\r\n    }\r\n    return errors;\r\n}\r\n\r\n//function for CREATING A TOKEN FOR AUTHENTICATION\r\nconst maxAge = 3 * 24 * 60 * 60;\r\nconst createToken = (id)=>{\r\n    return jwt.sign({id}, 'the game secret', {\r\n        expiresIn: maxAge\r\n    })\r\n}\r\n\r\nexport const signup_post_contro = async (req,res)=>{\r\n    const { email, password } = req.body;\r\n\r\n    try {\r\n       const user = await Userdb.create({email, password}); \r\n       const token = createToken(user._id);\r\n    //    res.cookie('jwt', token, {\r\n    //        httpOnly:true, maxAge: maxAge * 1000\r\n    //    })\r\n    //    res.status(201).json({user:user._id,token:token});\r\n       res.status(201).json({userCred:{\r\n        email: user.email,\r\n    },token:token})\r\n\r\n    }\r\n    catch(err){\r\n        const error = handleErrors(err);\r\n        res.status(400).json({error});\r\n    }\r\n    }\r\n\r\n export const login_post_contro = async (req,res)=>{\r\n        const { email, password } = req.body;\r\n        try {\r\n            const user = await Userdb.login(email,password);\r\n            const token = createToken(user._id);\r\n        \r\n            // res.cookie('jwt', token, {\r\n                // httpOnly:true, maxAge: maxAge * 1000\r\n            // })\r\n            // res.status(200).json({user:user._id,token:token})\r\n            res.status(200).json({userCred:{\r\n                email: user.email,\r\n                status:\"Logged In\",\r\n                message: \"Welcome again, it is plaesure to have you back!\"\r\n            },token:token})\r\n        }\r\n        catch(err){\r\n            res.status(401).json({response: err.message});\r\n        }\r\n      \r\n    }\r\n\r\n\r\n    export const logout_get_contro = (req,res) =>{\r\n        // res.cookie('jwt', '', {maxAge:1 });\r\n        res.status(200).json({message:\"successfully logged out!\"});\r\n        res.status(200).json({message:\"successfully logged out!\",  token: null});\r\n    }\r\n\r\n    export const get_all_users =(req,res)=>{\r\n        Userdb.find()\r\n        .then((users)=>{\r\n            res.status(202).send(users);\r\n        })\r\n        .catch((error)=>{\r\n            // res.status(500).send({message:error.message || 'Error Occured while retrieving blog information'})\r\n            res.status(500).json({message:error.message || 'Error Occured while retrieving blog information'})\r\n        })\r\n    }\r\n\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6784e9569b4374cdc1763d6ae7ca9296a72d85ef","contentHash":"f63ab32ca8f45bc510f62b78146b6f7d4095f9c4bbac7bb32c585d9b5b7f6d39"}}